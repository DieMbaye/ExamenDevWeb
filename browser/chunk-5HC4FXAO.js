import{c as O}from"./chunk-M6XDCT5R.js";import{a as y,b as S,c as z,d as k,e as E,f as L,j as I,k as N}from"./chunk-GZPYKXTC.js";import{l as v}from"./chunk-4AF5SF7N.js";import{j as w,l as P}from"./chunk-O4Q2FRRA.js";import{$a as _,Da as x,Ia as M,Ta as m,Ua as n,Va as t,_a as C,cb as s,d as b,eb as c,gb as p,hb as f,ib as u,sa as a,xa as g}from"./chunk-4ZNG45L6.js";function W(d,o){if(d&1&&(n(0,"div",11),s(1),t()),d&2){let T=_();a(),c(" ",T.errorMessage," ")}}var G=(()=>{let o=class o{constructor(i,l){this.authService=i,this.router=l,this.credentials={email:"",password:""},this.errorMessage="",this.isLoading=!1}onSubmit(){return b(this,null,function*(){if(!this.credentials.email||!this.credentials.password){this.errorMessage="Veuillez remplir tous les champs";return}this.isLoading=!0,this.errorMessage="";try{switch((yield this.authService.signIn(this.credentials.email,this.credentials.password)).role){case"admin":this.router.navigate(["/admin"]);break;case"medecin":this.router.navigate(["/doctor"]);break;case"patient":this.router.navigate(["/patient"]);break;default:this.router.navigate(["/"])}}catch(i){console.error("Erreur Firebase:",i.code,i.message),this.errorMessage="Email ou mot de passe incorrect"}finally{this.isLoading=!1}})}};o.\u0275fac=function(l){return new(l||o)(g(v),g(O))},o.\u0275cmp=x({type:o,selectors:[["app-login"]],decls:19,vars:5,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","required","","placeholder","votre@email.com",1,"form-input",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","required","","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input",3,"ngModelChange","ngModel"],["class","error-message",4,"ngIf"],["type","submit",1,"login-btn",3,"disabled"],[1,"error-message"]],template:function(l,e){l&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),s(4,"MediCare"),t(),n(5,"p"),s(6,"Connectez-vous \xE0 votre compte"),t()(),n(7,"form",3),C("ngSubmit",function(){return e.onSubmit()}),n(8,"div",4)(9,"label",5),s(10,"Email"),t(),n(11,"input",6),u("ngModelChange",function(r){return f(e.credentials.email,r)||(e.credentials.email=r),r}),t()(),n(12,"div",4)(13,"label",7),s(14,"Mot de passe"),t(),n(15,"input",8),u("ngModelChange",function(r){return f(e.credentials.password,r)||(e.credentials.password=r),r}),t()(),M(16,W,2,1,"div",9),n(17,"button",10),s(18),t()()()()),l&2&&(a(11),p("ngModel",e.credentials.email),a(4),p("ngModel",e.credentials.password),a(),m("ngIf",e.errorMessage),a(),m("disabled",e.isLoading),a(),c(" ",e.isLoading?"Connexion...":"Se connecter"," "))},dependencies:[P,w,N,L,y,S,z,I,E,k],styles:[".login-container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;background-image:url(/assets/images/fondLogin.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;padding:20px;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.login-card[_ngcontent-%COMP%]{background:#fffffff2;border-radius:15px;padding:40px 50px;box-shadow:0 12px 30px #00000040;width:100%;max-width:420px;text-align:left;box-sizing:border-box;opacity:0;transform:translateY(30px);animation:_ngcontent-%COMP%_fadeSlideIn 1s ease forwards;animation-delay:.3s}@keyframes _ngcontent-%COMP%_fadeSlideIn{to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.8rem;margin-bottom:15px;color:#0059b3;font-weight:700}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.3rem;margin-bottom:35px;color:#333}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:28px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:10px;color:#004080;font-size:1.05rem}.form-input[_ngcontent-%COMP%]{width:100%;padding:14px 18px;border:1.8px solid #a3bce0;border-radius:8px;font-size:1.1rem;transition:border-color .3s ease,box-shadow .3s ease;outline:none;box-sizing:border-box}.form-input[_ngcontent-%COMP%]:focus{border-color:#0059b3;box-shadow:0 0 10px #0059b380}.error-message[_ngcontent-%COMP%]{color:#d93025;font-weight:700;font-size:1rem;margin-top:-15px;margin-bottom:15px;text-align:left}.login-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#0059b3,#1a75ff);color:#fff;font-weight:700;font-size:1.3rem;padding:16px;border:none;border-radius:30px;cursor:pointer;box-shadow:0 5px 20px #0059b3b3;transition:background .3s ease,box-shadow .3s ease}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#003d7a,#06c);box-shadow:0 8px 28px #003d7ae6}.login-btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}@media (max-width: 768px){.login-card[_ngcontent-%COMP%]{max-width:90%;padding:35px 30px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.3rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.15rem;margin-bottom:30px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{font-size:1rem}.login-btn[_ngcontent-%COMP%]{font-size:1.15rem;padding:14px}}@media (max-width: 400px){.login-card[_ngcontent-%COMP%]{padding:30px 20px}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.9rem}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .form-input[_ngcontent-%COMP%]{font-size:.95rem}.login-btn[_ngcontent-%COMP%]{font-size:1.1rem;padding:12px}}"]});let d=o;return d})();export{G as LoginComponent};
